# Telegram Print Bot (TPB) üñ®Ô∏èü§ñ

–ú–æ—â–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—á–∞—Ç—å—é –∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–∞–π–ª—ã –Ω–∞ –ø—Ä–∏–Ω—Ç–µ—Ä, —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ PDF –ø—Ä—è–º–æ –∏–∑ —á–∞—Ç–∞.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **üñ®Ô∏è –ü–µ—á–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PDF, DOCX, XLSX, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤.
*   **üìÑ –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:** –í—ã–±–æ—Ä –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –ø–µ—á–∞—Ç–∏, –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∏–ª–∏ –ø–µ—á–∞—Ç–∏ –±—Ä–æ—à—é—Ä–æ–π.
*   **üì∏ –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–∞–Ω–µ—Ä–æ–º —á–µ—Ä–µ–∑ –±–æ—Ç–∞ (–æ–¥–∏–Ω–æ—á–Ω—ã–µ –ª–∏—Å—Ç—ã –∏–ª–∏ –∞–≤—Ç–æ–ø–æ–¥–∞—Ç—á–∏–∫ ADF).
*   **üñºÔ∏è –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ PDF –ø–µ—Ä–µ–¥ –ø–µ—á–∞—Ç—å—é.
*   **üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`allowed_users.json`).
*   **‚ö° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:** –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `asyncio`.

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   **OS:** Linux (Debian/Ubuntu/Fedora/Bazzite –∏ –¥—Ä.)
*   **Python:** 3.9+
*   **System Tools:**
    *   `scanimage` (SANE) ‚Äî –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
    *   `lp` (CUPS) ‚Äî –¥–ª—è –ø–µ—á–∞—Ç–∏
    *   `libreoffice` ‚Äî –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ DOCX/XLSX
    *   `ghostscript` ‚Äî –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ PDF

## üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/your-username/tpb-bot.git
    cd tpb-bot
    ```

2.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç.
    ```bash
    chmod +x install.sh start_bot.sh setup_service.sh
    ./install.sh
    ```

3.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
    –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª `.env` —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
    ```bash
    nano .env
    ```
    *   `BOT_TOKEN`: –¢–æ–∫–µ–Ω –æ—Ç @BotFather
    *   `ADMIN_ID`: –í–∞—à Telegram ID (—É–∑–Ω–∞—Ç—å —É @userinfobot)
    *   `PRINTER_NAME`: –ò–º—è –ø—Ä–∏–Ω—Ç–µ—Ä–∞ –≤ —Å–∏—Å—Ç–µ–º–µ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ `lpstat -p`)
    *   `SCANNER_DEVICE`: –ò–º—è —Å–∫–∞–Ω–µ—Ä–∞ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ `scanimage -L`)

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

**–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫:**
```bash
./start_bot.sh
```

**–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ (–∫–∞–∫ —Å–µ—Ä–≤–∏—Å):**
–ß—Ç–æ–±—ã –±–æ—Ç —Ä–∞–±–æ—Ç–∞–ª –≤ —Ñ–æ–Ω–µ –∏ –∑–∞–ø—É—Å–∫–∞–ª—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:
```bash
sudo ./setup_service.sh
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

*   `bot.py` ‚Äî –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞ –∏ –ª–æ–≥–∏–∫–∞ –±–æ—Ç–∞.
*   `handlers.py` ‚Äî –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π.
*   `conversion.py` ‚Äî –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤.
*   `scanning.py` ‚Äî –†–∞–±–æ—Ç–∞ —Å–æ —Å–∫–∞–Ω–µ—Ä–æ–º.
*   `printing.py` ‚Äî –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–¥–∞–Ω–∏–π –Ω–∞ –ø–µ—á–∞—Ç—å (CUPS).
*   `utils.py` ‚Äî –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.
*   `config.py` ‚Äî –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ .env.
*   `install.sh` / `start_bot.sh` ‚Äî –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ë—É–¥—É —Ä–∞–¥ –ª—é–±—ã–º —É–ª—É—á—à–µ–Ω–∏—è–º! –°–æ–∑–¥–∞–≤–∞–π—Ç–µ Pull Request –∏–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ Issue.
